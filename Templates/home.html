<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Home - EASyCMSs</title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        <link rel="stylesheet" href="/static/style.css">
        <style>
           body {
        background-image: url('../static/images/background.jpg');
    }
    .profile-img img {
        width: 180px;
        height: 180px;
    }
    .personal-info-title {
        text-align: center;
        margin: 5px 0 0 0; /* Reduced top margin, no bottom margin */
        color: white;
        position: absolute; /* Position above profile-section */
        top: 80px; /* Below fixed header (70px + 10px gap) */
        width: 100%; /* Ensure it spans the container */
    }
    .container {
        margin-top: 120px; /* Adjusted to accommodate title */
    }
        </style>
    </head>
<body> 
       <div class="header">
        <span>EASYCMS</span>
        <span class="greeting">Welcome, {{ session['user_name'] }}</span>
        <div class="button-group">
            <button class="btn" onclick="window.location.href='logout'">Log out</button>
            <div class="profile-icon">
                <img src="{{ user.profile_picture }}" alt="Profile Icon" onclick="window.location.href='/profile'" onerror="console.error('Failed to load image: {{ user.profile_picture }}')"
                    style="width: 35px; height: 35px"
                    border-radius="30px"
                    class="rounded-box"/> 
            </div>
        </div>
    </div>

    <h2 class="personal-info-title">Personal Information</h2>
    <div class="container">
        <div class="profile-section">
            <div class="profile-img">
                {% if user.profile_picture %}
                    <img src="{{ user.profile_picture }}" alt="Profile Image" onerror="console.error('Failed to load image: {{ user.profile_picture }}')"
                    style="width: 180px; height: 180px"
                    class="square-box"/>
                {% else %}
                    <img src="https://via.placeholder.com/120" alt="No Profile Image">
                    <p>No profile picture uploaded.</p>
                {% endif %}
            </div>
            <div class="profile-details">
                <input type="text" value="{{ user.full_name }}" readonly>
                <input type="text" value="{{ user.email }}" readonly>
                <input type="text" value="{{ user.address or '' }}" readonly>
                <input type="text" value="{{ user.phone or '' }}" readonly>
                <div class="buttons">
                    <button class="action-btn all-contact" onclick="window.location.href='all_contact'">All Contacts</button>
                    <button class="action-btn add_contact" onclick="window.location.href='add_contact'">Add Contact</button>                </div>
            </div>
        </div>
    </div>

    <div class="footer">
        Â© 2025 EASYCMS | All rights reserved
    </div>
</body>
</html>